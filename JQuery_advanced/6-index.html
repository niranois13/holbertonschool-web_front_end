<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <meta charset="utf-8" />
    <title>Task 6</title>

</head>

<body>

</body>
<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
    integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
<script type="application/javascript">
    function createFamilyTree() {
        $("body").append(`
        <table>
            <thead>
                <tr>
                    <th>Firstname</th>
                    <th>Lastname</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
        `)
    }

    function addNewMember(firstName, lastName, position) {
        const newRow = $(`<tr></tr>`).append(
                $(`<td></td>`).text(firstName),
                $(`<td></td>`).text(lastName),
                $(`<td></td>`).text("(x)").css("background-color", "orange").addClass("delete")
            );

        if (position === "before") {
            $("tbody").prepend(newRow)
        } else {
            $("tbody").append(newRow)
        }

        newRow.find(".delete").on("click", function() {
            $(this).closest("tr").remove();
        });
    }

    function createForm() {
        $("body").prepend(
            $(`<input type="text"/>`),
            $(`<input type="text"/>`),
            $(`<select></select>`),
            $(`<input type="submit"/>`)
        );

        $("select").append(
            $(`<option value="before">Before</option>`),
            $(`<option value="after">After</option>`)
        );

        $("input:nth-of-type(3)").on("click", function() {
            firstName = $('input').val();
            lastName = $('input:nth-of-type(2)').val();
            position = $('select').val();
            addNewMember(firstName, lastName, position);
        })
    }

    createFamilyTree();
    createForm();
</script>

</html>